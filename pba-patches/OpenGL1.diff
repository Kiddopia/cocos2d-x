From 7ac7822b3f1bb9b6e471f1eafbea8cbf70b044db Mon Sep 17 00:00:00 2001
From: Kaushik <>
Date: Thu, 27 Dec 2018 11:01:34 +0530
Subject: [PATCH] Fixed app crashing when OpenGLView of cocos2dx is not
 instatiated

---
 cocos/platform/ios/CCEAGLView-ios.mm | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/cocos/platform/ios/CCEAGLView-ios.mm b/cocos/platform/ios/CCEAGLView-ios.mm
index 1f06a0f274..bddbc23159 100644
--- a/cocos/platform/ios/CCEAGLView-ios.mm
+++ b/cocos/platform/ios/CCEAGLView-ios.mm
@@ -815,6 +815,9 @@ Copyright (C) 2008 Apple Inc. All Rights Reserved.
     }
 
     auto glview = cocos2d::Director::getInstance()->getOpenGLView();
+    
+    if(!glview) return;
+    
     float scaleX = glview->getScaleX();
     float scaleY = glview->getScaleY();
     
@@ -899,6 +902,9 @@ UIInterfaceOrientation getFixedOrientation(UIInterfaceOrientation statusBarOrien
     if (dis < 0.0f) dis = 0.0f;
 
     auto glview = cocos2d::Director::getInstance()->getOpenGLView();
+    
+    if(!glview) return;
+
     dis *= glview->getScaleY();
     
     dis /= self.contentScaleFactor;
-- 
2.31.0

